'use strict';

var necessary = require('necessary');

var arrayUtilities = necessary.arrayUtilities,
    first = arrayUtilities.first,
    second = arrayUtilities.second;


function vertexNamesFromVertexLiterals(vertexLiterals) {
  var vertexNameMap = {};

  vertexLiterals.forEach(function (vertexLiteral) {
    var firstVertexLiteralElement = first(vertexLiteral),
        vertexName = firstVertexLiteralElement,
        ///
    vertexExists = vertexNameMap.hasOwnProperty(vertexName);

    if (!vertexExists) {
      vertexNameMap[vertexName] = vertexName;
    }

    var secondVertexLiteralElement = second(vertexLiteral),
        ancestorVertexNames = secondVertexLiteralElement; ///

    ancestorVertexNames.forEach(function (ancestorVertexName) {
      var ancestorVertexExists = vertexNameMap.hasOwnProperty(ancestorVertexName);

      if (!ancestorVertexExists) {
        vertexNameMap[ancestorVertexName] = ancestorVertexName;
      }
    });
  });

  var vertexNameMapKeys = Object.keys(vertexNameMap),
      vertexNames = vertexNameMapKeys; ///

  return vertexNames;
}

function vertexNamesFromVertices(vertices) {
  var vertexNames = vertices.map(function (vertex) {
    var vertexName = vertex.getName();

    return vertexName;
  });

  return vertexNames;
}

function forwardsDepthFirstSearch(vertex, callback) {
  var visitedVertices = [];

  retrieveForwardsVisitedVertices(vertex, function (visitedVertex, getPredecessorVertices) {
    var terminate = callback(visitedVertex, getPredecessorVertices); ///

    visitedVertices.push(visitedVertex);

    return terminate;
  }, getPredecessorVertices);

  visitedVertices.forEach(function (visitedVertex) {
    visitedVertex.resetVisited();
  });

  return visitedVertices;

  function getPredecessorVertices() {
    var predecessorVertices = [];

    return predecessorVertices;
  }
}

module.exports = {
  vertexNamesFromVertexLiterals: vertexNamesFromVertexLiterals,
  vertexNamesFromVertices: vertexNamesFromVertices,
  forwardsDepthFirstSearch: forwardsDepthFirstSearch
};

function retrieveForwardsVisitedVertices(vertex, callback, getPredecessorVertices) {
  var terminate = false;

  if (vertex.visited === false) {
    vertex.visited = true;

    var visitedVertex = vertex; ///

    terminate = callback(visitedVertex, getPredecessorVertices);

    if (terminate !== true) {
      visitedVertex.someImmediateSuccessorVertex(function (immediateSuccessorVertex) {
        terminate = retrieveForwardsVisitedVertices(immediateSuccessorVertex, callback, function () {
          var predecessorVertices = getPredecessorVertices();

          var immediatePredecessorVertex = vertex,
              ///
          predecessorVertex = immediatePredecessorVertex; ///

          predecessorVertices = predecessorVertices.concat(predecessorVertex);

          return predecessorVertices;
        });

        return terminate;
      });
    }
  }

  return terminate;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL2VzNi91dGlsaXRpZXMvdmVydGV4LmpzIl0sIm5hbWVzIjpbIm5lY2Vzc2FyeSIsInJlcXVpcmUiLCJhcnJheVV0aWxpdGllcyIsImZpcnN0Iiwic2Vjb25kIiwidmVydGV4TmFtZXNGcm9tVmVydGV4TGl0ZXJhbHMiLCJ2ZXJ0ZXhMaXRlcmFscyIsInZlcnRleE5hbWVNYXAiLCJmb3JFYWNoIiwidmVydGV4TGl0ZXJhbCIsImZpcnN0VmVydGV4TGl0ZXJhbEVsZW1lbnQiLCJ2ZXJ0ZXhOYW1lIiwidmVydGV4RXhpc3RzIiwiaGFzT3duUHJvcGVydHkiLCJzZWNvbmRWZXJ0ZXhMaXRlcmFsRWxlbWVudCIsImFuY2VzdG9yVmVydGV4TmFtZXMiLCJhbmNlc3RvclZlcnRleE5hbWUiLCJhbmNlc3RvclZlcnRleEV4aXN0cyIsInZlcnRleE5hbWVNYXBLZXlzIiwiT2JqZWN0Iiwia2V5cyIsInZlcnRleE5hbWVzIiwidmVydGV4TmFtZXNGcm9tVmVydGljZXMiLCJ2ZXJ0aWNlcyIsIm1hcCIsInZlcnRleCIsImdldE5hbWUiLCJmb3J3YXJkc0RlcHRoRmlyc3RTZWFyY2giLCJjYWxsYmFjayIsInZpc2l0ZWRWZXJ0aWNlcyIsInJldHJpZXZlRm9yd2FyZHNWaXNpdGVkVmVydGljZXMiLCJ2aXNpdGVkVmVydGV4IiwiZ2V0UHJlZGVjZXNzb3JWZXJ0aWNlcyIsInRlcm1pbmF0ZSIsInB1c2giLCJyZXNldFZpc2l0ZWQiLCJwcmVkZWNlc3NvclZlcnRpY2VzIiwibW9kdWxlIiwiZXhwb3J0cyIsInZpc2l0ZWQiLCJzb21lSW1tZWRpYXRlU3VjY2Vzc29yVmVydGV4IiwiaW1tZWRpYXRlU3VjY2Vzc29yVmVydGV4IiwiaW1tZWRpYXRlUHJlZGVjZXNzb3JWZXJ0ZXgiLCJwcmVkZWNlc3NvclZlcnRleCIsImNvbmNhdCJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUEsSUFBTUEsWUFBWUMsUUFBUSxXQUFSLENBQWxCOztBQUVNLElBQUVDLGNBQUYsR0FBcUJG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VztBQUN6RixjQUFJUSxzQkFBc0JKLHdCQUExQjs7QUFFQSxjQUFNVSw2QkFBNkJqQixNQUFuQztBQUFBLGNBQTRDO0FBQ3RDa0IsOEJBQW9CRCwwQkFEMUIsQ0FIeUYsQ0FJbkM7O0FBRXRETixnQ0FBc0JBLG9CQUFvQlEsTUFBcEIsQ0FBMkJELGlCQUEzQixDQUF0Qjs7QUFFQSxpQkFBT1AsbUJBQVA7QUFDRCxTQVRXLENBQVo7O0FBV0EsZUFBT0gsU0FBUDtBQUNELE9BYkQ7QUFjRDtBQUNGOztBQUVELFNBQU9BLFNBQVA7QUFDRCIsImZpbGUiOiJ2ZXJ0ZXguanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmNvbnN0IG5lY2Vzc2FyeSA9IHJlcXVpcmUoJ25lY2Vzc2FyeScpO1xuXG5jb25zdCB7IGFycmF5VXRpbGl0aWVzIH0gPSBuZWNlc3NhcnksXG4gICAgICB7IGZpcnN0LCBzZWNvbmQgfSA9IGFycmF5VXRpbGl0aWVzO1xuXG5mdW5jdGlvbiB2ZXJ0ZXhOYW1lc0Zyb21WZXJ0ZXhMaXRlcmFscyh2ZXJ0ZXhMaXRlcmFscykge1xuICBjb25zdCB2ZXJ0ZXhOYW1lTWFwID0ge307XG5cbiAgdmVydGV4TGl0ZXJhbHMuZm9yRWFjaChmdW5jdGlvbih2ZXJ0ZXhMaXRlcmFsKSB7XG4gICAgY29uc3QgZmlyc3RWZXJ0ZXhMaXRlcmFsRWxlbWVudCA9IGZpcnN0KHZlcnRleExpdGVyYWwpLFxuICAgICAgICAgIHZlcnRleE5hbWUgPSBmaXJzdFZlcnRleExpdGVyYWxFbGVtZW50LCAvLy9cbiAgICAgICAgICB2ZXJ0ZXhFeGlzdHMgPSB2ZXJ0ZXhOYW1lTWFwLmhhc093blByb3BlcnR5KHZlcnRleE5hbWUpO1xuXG4gICAgaWYgKCF2ZXJ0ZXhFeGlzdHMpIHtcbiAgICAgIHZlcnRleE5hbWVNYXBbdmVydGV4TmFtZV0gPSB2ZXJ0ZXhOYW1lO1xuICAgIH1cblxuICAgICAgY29uc3Qgc2Vjb25kVmVydGV4TGl0ZXJhbEVsZW1lbnQgPSBzZWNvbmQodmVydGV4TGl0ZXJhbCksXG4gICAgICAgIGFuY2VzdG9yVmVydGV4TmFtZXMgPSBzZWNvbmRWZXJ0ZXhMaXRlcmFsRWxlbWVudDsgLy8vXG5cbiAgICBhbmNlc3RvclZlcnRleE5hbWVzLmZvckVhY2goZnVuY3Rpb24oYW5jZXN0b3JWZXJ0ZXhOYW1lKSB7XG4gICAgICBjb25zdCBhbmNlc3RvclZlcnRleEV4aXN0cyA9IHZlcnRleE5hbWVNYXAuaGFzT3duUHJvcGVydHkoYW5jZXN0b3JWZXJ0ZXhOYW1lKTtcblxuICAgICAgaWYgKCFhbmNlc3RvclZlcnRleEV4aXN0cykge1xuICAgICAgICB2ZXJ0ZXhOYW1lTWFwW2FuY2VzdG9yVmVydGV4TmFtZV0gPSBhbmNlc3RvclZlcnRleE5hbWU7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xuXG4gIGNvbnN0IHZlcnRleE5hbWVNYXBLZXlzID0gT2JqZWN0LmtleXModmVydGV4TmFtZU1hcCksXG4gICAgICAgIHZlcnRleE5hbWVzID0gdmVydGV4TmFtZU1hcEtleXM7ICAvLy9cblxuICByZXR1cm4gdmVydGV4TmFtZXM7XG59XG5cbmZ1bmN0aW9uIHZlcnRleE5hbWVzRnJvbVZlcnRpY2VzKHZlcnRpY2VzKSB7XG4gIGNvbnN0IHZlcnRleE5hbWVzID0gdmVydGljZXMubWFwKGZ1bmN0aW9uKHZlcnRleCkge1xuICAgIGNvbnN0IHZlcnRleE5hbWUgPSB2ZXJ0ZXguZ2V0TmFtZSgpO1xuXG4gICAgcmV0dXJuIHZlcnRleE5hbWU7XG4gIH0pO1xuXG4gIHJldHVybiB2ZXJ0ZXhOYW1lcztcbn1cblxuZnVuY3Rpb24gZm9yd2FyZHNEZXB0aEZpcnN0U2VhcmNoKHZlcnRleCwgY2FsbGJhY2spIHtcbiAgY29uc3QgdmlzaXRlZFZlcnRpY2VzID0gW107XG5cbiAgcmV0cmlldmVGb3J3YXJkc1Zpc2l0ZWRWZXJ0aWNlcyh2ZXJ0ZXgsIGZ1bmN0aW9uKHZpc2l0ZWRWZXJ0ZXgsIGdldFByZWRlY2Vzc29yVmVydGljZXMpIHtcbiAgICBjb25zdCB0ZXJtaW5hdGUgPSBjYWxsYmFjayh2aXNpdGVkVmVydGV4LCBnZXRQcmVkZWNlc3NvclZlcnRpY2VzKTsgIC8vL1xuXG4gICAgdmlzaXRlZFZlcnRpY2VzLnB1c2godmlzaXRlZFZlcnRleCk7XG5cbiAgICByZXR1cm4gdGVybWluYXRlO1xuICB9LCBnZXRQcmVkZWNlc3NvclZlcnRpY2VzKTtcblxuICB2aXNpdGVkVmVydGljZXMuZm9yRWFjaChmdW5jdGlvbih2aXNpdGVkVmVydGV4KSB7XG4gICAgdmlzaXRlZFZlcnRleC5yZXNldFZpc2l0ZWQoKTtcbiAgfSk7XG5cbiAgcmV0dXJuIHZpc2l0ZWRWZXJ0aWNlcztcblxuICBmdW5jdGlvbiBnZXRQcmVkZWNlc3NvclZlcnRpY2VzKCkge1xuICAgIGNvbnN0IHByZWRlY2Vzc29yVmVydGljZXMgPSBbXTtcbiAgICBcbiAgICByZXR1cm4gcHJlZGVjZXNzb3JWZXJ0aWNlcztcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgdmVydGV4TmFtZXNGcm9tVmVydGV4TGl0ZXJhbHMsXG4gIHZlcnRleE5hbWVzRnJvbVZlcnRpY2VzLFxuICBmb3J3YXJkc0RlcHRoRmlyc3RTZWFyY2hcbn07XG5cbmZ1bmN0aW9uIHJldHJpZXZlRm9yd2FyZHNWaXNpdGVkVmVydGljZXModmVydGV4LCBjYWxsYmFjaywgZ2V0UHJlZGVjZXNzb3JWZXJ0aWNlcykge1xuICBsZXQgdGVybWluYXRlID0gZmFsc2U7XG5cbiAgaWYgKHZlcnRleC52aXNpdGVkID09PSBmYWxzZSkge1xuICAgIHZlcnRleC52aXNpdGVkID0gdHJ1ZTtcblxuICAgIGNvbnN0IHZpc2l0ZWRWZXJ0ZXggPSB2ZXJ0ZXg7ICAvLy9cblxuICAgIHRlcm1pbmF0ZSA9IGNhbGxiYWNrKHZpc2l0ZWRWZXJ0ZXgsIGdldFByZWRlY2Vzc29yVmVydGljZXMpO1xuXG4gICAgaWYgKHRlcm1pbmF0ZSAhPT0gdHJ1ZSkge1xuICAgICAgdmlzaXRlZFZlcnRleC5zb21lSW1tZWRpYXRlU3VjY2Vzc29yVmVydGV4KGZ1bmN0aW9uKGltbWVkaWF0ZVN1Y2Nlc3NvclZlcnRleCkge1xuICAgICAgICB0ZXJtaW5hdGUgPSByZXRyaWV2ZUZvcndhcmRzVmlzaXRlZFZlcnRpY2VzKGltbWVkaWF0ZVN1Y2Nlc3NvclZlcnRleCwgY2FsbGJhY2ssIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGxldCBwcmVkZWNlc3NvclZlcnRpY2VzID0gZ2V0UHJlZGVjZXNzb3JWZXJ0aWNlcygpO1xuXG4gICAgICAgICAgY29uc3QgaW1tZWRpYXRlUHJlZGVjZXNzb3JWZXJ0ZXggPSB2ZXJ0ZXgsICAvLy9cbiAgICAgICAgICAgICAgICBwcmVkZWNlc3NvclZlcnRleCA9IGltbWVkaWF0ZVByZWRlY2Vzc29yVmVydGV4OyAvLy9cblxuICAgICAgICAgIHByZWRlY2Vzc29yVmVydGljZXMgPSBwcmVkZWNlc3NvclZlcnRpY2VzLmNvbmNhdChwcmVkZWNlc3NvclZlcnRleCk7XG5cbiAgICAgICAgICByZXR1cm4gcHJlZGVjZXNzb3JWZXJ0aWNlcztcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHRlcm1pbmF0ZTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0ZXJtaW5hdGU7XG59XG4iXX0=