"use strict";

var _necessary = require("necessary");

var first = _necessary.arrayUtilities.first,
    second = _necessary.arrayUtilities.second;

function vertexNamesFromVertexLiterals(vertexLiterals) {
  var vertexNameMap = {};
  vertexLiterals.forEach(function (vertexLiteral) {
    var firstVertexLiteralElement = first(vertexLiteral),
        vertexName = firstVertexLiteralElement,
        ///
    vertexExists = vertexNameMap.hasOwnProperty(vertexName);

    if (!vertexExists) {
      vertexNameMap[vertexName] = vertexName;
    }

    var secondVertexLiteralElement = second(vertexLiteral),
        ancestorVertexNames = secondVertexLiteralElement; ///

    ancestorVertexNames.forEach(function (ancestorVertexName) {
      var ancestorVertexExists = vertexNameMap.hasOwnProperty(ancestorVertexName);

      if (!ancestorVertexExists) {
        vertexNameMap[ancestorVertexName] = ancestorVertexName;
      }
    });
  });
  var vertexNameMapKeys = Object.keys(vertexNameMap),
      vertexNames = vertexNameMapKeys; ///

  return vertexNames;
}

function vertexNamesFromVertices(vertices) {
  var vertexNames = vertices.map(function (vertex) {
    var vertexName = vertex.getName();
    return vertexName;
  });
  return vertexNames;
}

function forwardsDepthFirstSearch(vertex, callback) {
  var visitedVertices = [];
  retrieveForwardsVisitedVertices(vertex, function (visitedVertex, getPredecessorVertices) {
    var terminate = callback(visitedVertex, getPredecessorVertices); ///

    visitedVertices.push(visitedVertex);
    return terminate;
  }, getPredecessorVertices);
  visitedVertices.forEach(function (visitedVertex) {
    visitedVertex.resetVisited();
  });
  return visitedVertices;

  function getPredecessorVertices() {
    var predecessorVertices = [];
    return predecessorVertices;
  }
}

module.exports = {
  vertexNamesFromVertexLiterals: vertexNamesFromVertexLiterals,
  vertexNamesFromVertices: vertexNamesFromVertices,
  forwardsDepthFirstSearch: forwardsDepthFirstSearch
};

function retrieveForwardsVisitedVertices(vertex, callback, getPredecessorVertices) {
  var terminate = false;

  if (vertex.visited === false) {
    vertex.visited = true;
    var visitedVertex = vertex; ///

    terminate = callback(visitedVertex, getPredecessorVertices);

    if (terminate !== true) {
      visitedVertex.someImmediateSuccessorVertex(function (immediateSuccessorVertex) {
        terminate = retrieveForwardsVisitedVertices(immediateSuccessorVertex, callback, function () {
          var predecessorVertices = getPredecessorVertices();
          var immediatePredecessorVertex = vertex,
              ///
          predecessorVertex = immediatePredecessorVertex; ///

          predecessorVertices = predecessorVertices.concat(predecessorVertex);
          return predecessorVertices;
        });
        return terminate;
      });
    }
  }

  return terminate;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInZlcnRleC5qcyJdLCJuYW1lcyI6WyJmaXJzdCIsImFycmF5VXRpbGl0aWVzIiwic2Vjb25kIiwidmVydGV4TmFtZXNGcm9tVmVydGV4TGl0ZXJhbHMiLCJ2ZXJ0ZXhMaXRlcmFscyIsInZlcnRleE5hbWVNYXAiLCJmb3JFYWNoIiwidmVydGV4TGl0ZXJhbCIsImZpcnN0VmVydGV4TGl0ZXJhbEVsZW1lbnQiLCJ2ZXJ0ZXhOYW1lIiwidmVydGV4RXhpc3RzIiwiaGFzT3duUHJvcGVydHkiLCJzZWNvbmRWZXJ0ZXhMaXRlcmFsRWxlbWVudCIsImFuY2VzdG9yVmVydGV4TmFtZXMiLCJhbmNlc3RvclZlcnRleE5hbWUiLCJhbmNlc3RvclZlcnRleEV4aXN0cyIsInZlcnRleE5hbWVNYXBLZXlzIiwiT2JqZWN0Iiwia2V5cyIsInZlcnRleE5hbWVzIiwidmVydGV4TmFtZXNGcm9tVmVydGljZXMiLCJ2ZXJ0aWNlcyIsIm1hcCIsInZlcnRleCIsImdldE5hbWUiLCJmb3J3YXJkc0RlcHRoRmlyc3RTZWFyY2giLCJjYWxsYmFjayIsInZpc2l0ZWRWZXJ0aWNlcyIsInJldHJpZXZlRm9yd2FyZHNWaXNpdGVkVmVydGljZXMiLCJ2aXNpdGVkVmVydGV4IiwiZ2V0UHJlZGVjZXNzb3JWZXJ0aWNlcyIsInRlcm1pbmF0ZSIsInB1c2giLCJyZXNldFZpc2l0ZWQiLCJwcmVkZWNlc3NvclZlcnRpY2VzIiwibW9kdWxlIiwiZXhwb3J0cyIsInZpc2l0ZWQiLCJzb21lSW1tZWRpYXRlU3VjY2Vzc29yVmVydGV4IiwiaW1tZWRpYXRlU3VjY2Vzc29yVmVydGV4IiwiaW1tZWRpYXRlUHJlZGVjZXNzb3JWZXJ0ZXgiLCJwcmVkZWNlc3NvclZlcnRleCIsImNvbmNhdCJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7O0lBRVFBLEssR0FBa0JDLHlCLENBQWxCRCxLO0lBQU9FLE0sR0FBV0QseUIsQ0FBWEMsTTs7QUFFZixTQUFTQyw2QkFBVCxDQUF1Q0MsY0FBdkMsRUFBdUQ7QUFD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QUdMLFFBQVEsQ0FBQ0csYUFBRCxFQUFnQkMsc0JBQWhCLENBQXBCOztBQUVBLFFBQUlDLFNBQVMsS0FBSyxJQUFsQixFQUF3QjtBQUN0QkYsTUFBQUEsYUFBYSxDQUFDUyw0QkFBZCxDQUEyQyxVQUFTQyx3QkFBVCxFQUFtQztBQUM1RVIsUUFBQUEsU0FBUyxHQUFHSCwrQkFBK0IsQ0FBQ1csd0JBQUQsRUFBMkJiLFFBQTNCLEVBQXFDLFlBQVc7QUFDekYsY0FBSVEsbUJBQW1CLEdBQUdKLHNCQUFzQixFQUFoRDtBQUVBLGNBQU1VLDBCQUEwQixHQUFHakIsTUFBbkM7QUFBQSxjQUE0QztBQUN0Q2tCLFVBQUFBLGlCQUFpQixHQUFHRCwwQkFEMUIsQ0FIeUYsQ0FJbkM7O0FBRXRETixVQUFBQSxtQkFBbUIsR0FBR0EsbUJBQW1CLENBQUNRLE1BQXBCLENBQTJCRCxpQkFBM0IsQ0FBdEI7QUFFQSxpQkFBT1AsbUJBQVA7QUFDRCxTQVQwQyxDQUEzQztBQVdBLGVBQU9ILFNBQVA7QUFDRCxPQWJEO0FBY0Q7QUFDRjs7QUFFRCxTQUFPQSxTQUFQO0FBQ0QiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuaW1wb3J0IHsgYXJyYXlVdGlsaXRpZXMgfSBmcm9tIFwibmVjZXNzYXJ5XCI7XG5cbmNvbnN0IHsgZmlyc3QsIHNlY29uZCB9ID0gYXJyYXlVdGlsaXRpZXM7XG5cbmZ1bmN0aW9uIHZlcnRleE5hbWVzRnJvbVZlcnRleExpdGVyYWxzKHZlcnRleExpdGVyYWxzKSB7XG4gIGNvbnN0IHZlcnRleE5hbWVNYXAgPSB7fTtcblxuICB2ZXJ0ZXhMaXRlcmFscy5mb3JFYWNoKGZ1bmN0aW9uKHZlcnRleExpdGVyYWwpIHtcbiAgICBjb25zdCBmaXJzdFZlcnRleExpdGVyYWxFbGVtZW50ID0gZmlyc3QodmVydGV4TGl0ZXJhbCksXG4gICAgICAgICAgdmVydGV4TmFtZSA9IGZpcnN0VmVydGV4TGl0ZXJhbEVsZW1lbnQsIC8vL1xuICAgICAgICAgIHZlcnRleEV4aXN0cyA9IHZlcnRleE5hbWVNYXAuaGFzT3duUHJvcGVydHkodmVydGV4TmFtZSk7XG5cbiAgICBpZiAoIXZlcnRleEV4aXN0cykge1xuICAgICAgdmVydGV4TmFtZU1hcFt2ZXJ0ZXhOYW1lXSA9IHZlcnRleE5hbWU7XG4gICAgfVxuXG4gICAgICBjb25zdCBzZWNvbmRWZXJ0ZXhMaXRlcmFsRWxlbWVudCA9IHNlY29uZCh2ZXJ0ZXhMaXRlcmFsKSxcbiAgICAgICAgYW5jZXN0b3JWZXJ0ZXhOYW1lcyA9IHNlY29uZFZlcnRleExpdGVyYWxFbGVtZW50OyAvLy9cblxuICAgIGFuY2VzdG9yVmVydGV4TmFtZXMuZm9yRWFjaChmdW5jdGlvbihhbmNlc3RvclZlcnRleE5hbWUpIHtcbiAgICAgIGNvbnN0IGFuY2VzdG9yVmVydGV4RXhpc3RzID0gdmVydGV4TmFtZU1hcC5oYXNPd25Qcm9wZXJ0eShhbmNlc3RvclZlcnRleE5hbWUpO1xuXG4gICAgICBpZiAoIWFuY2VzdG9yVmVydGV4RXhpc3RzKSB7XG4gICAgICAgIHZlcnRleE5hbWVNYXBbYW5jZXN0b3JWZXJ0ZXhOYW1lXSA9IGFuY2VzdG9yVmVydGV4TmFtZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG5cbiAgY29uc3QgdmVydGV4TmFtZU1hcEtleXMgPSBPYmplY3Qua2V5cyh2ZXJ0ZXhOYW1lTWFwKSxcbiAgICAgICAgdmVydGV4TmFtZXMgPSB2ZXJ0ZXhOYW1lTWFwS2V5czsgIC8vL1xuXG4gIHJldHVybiB2ZXJ0ZXhOYW1lcztcbn1cblxuZnVuY3Rpb24gdmVydGV4TmFtZXNGcm9tVmVydGljZXModmVydGljZXMpIHtcbiAgY29uc3QgdmVydGV4TmFtZXMgPSB2ZXJ0aWNlcy5tYXAoZnVuY3Rpb24odmVydGV4KSB7XG4gICAgY29uc3QgdmVydGV4TmFtZSA9IHZlcnRleC5nZXROYW1lKCk7XG5cbiAgICByZXR1cm4gdmVydGV4TmFtZTtcbiAgfSk7XG5cbiAgcmV0dXJuIHZlcnRleE5hbWVzO1xufVxuXG5mdW5jdGlvbiBmb3J3YXJkc0RlcHRoRmlyc3RTZWFyY2godmVydGV4LCBjYWxsYmFjaykge1xuICBjb25zdCB2aXNpdGVkVmVydGljZXMgPSBbXTtcblxuICByZXRyaWV2ZUZvcndhcmRzVmlzaXRlZFZlcnRpY2VzKHZlcnRleCwgZnVuY3Rpb24odmlzaXRlZFZlcnRleCwgZ2V0UHJlZGVjZXNzb3JWZXJ0aWNlcykge1xuICAgIGNvbnN0IHRlcm1pbmF0ZSA9IGNhbGxiYWNrKHZpc2l0ZWRWZXJ0ZXgsIGdldFByZWRlY2Vzc29yVmVydGljZXMpOyAgLy8vXG5cbiAgICB2aXNpdGVkVmVydGljZXMucHVzaCh2aXNpdGVkVmVydGV4KTtcblxuICAgIHJldHVybiB0ZXJtaW5hdGU7XG4gIH0sIGdldFByZWRlY2Vzc29yVmVydGljZXMpO1xuXG4gIHZpc2l0ZWRWZXJ0aWNlcy5mb3JFYWNoKGZ1bmN0aW9uKHZpc2l0ZWRWZXJ0ZXgpIHtcbiAgICB2aXNpdGVkVmVydGV4LnJlc2V0VmlzaXRlZCgpO1xuICB9KTtcblxuICByZXR1cm4gdmlzaXRlZFZlcnRpY2VzO1xuXG4gIGZ1bmN0aW9uIGdldFByZWRlY2Vzc29yVmVydGljZXMoKSB7XG4gICAgY29uc3QgcHJlZGVjZXNzb3JWZXJ0aWNlcyA9IFtdO1xuICAgIFxuICAgIHJldHVybiBwcmVkZWNlc3NvclZlcnRpY2VzO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICB2ZXJ0ZXhOYW1lc0Zyb21WZXJ0ZXhMaXRlcmFscyxcbiAgdmVydGV4TmFtZXNGcm9tVmVydGljZXMsXG4gIGZvcndhcmRzRGVwdGhGaXJzdFNlYXJjaFxufTtcblxuZnVuY3Rpb24gcmV0cmlldmVGb3J3YXJkc1Zpc2l0ZWRWZXJ0aWNlcyh2ZXJ0ZXgsIGNhbGxiYWNrLCBnZXRQcmVkZWNlc3NvclZlcnRpY2VzKSB7XG4gIGxldCB0ZXJtaW5hdGUgPSBmYWxzZTtcblxuICBpZiAodmVydGV4LnZpc2l0ZWQgPT09IGZhbHNlKSB7XG4gICAgdmVydGV4LnZpc2l0ZWQgPSB0cnVlO1xuXG4gICAgY29uc3QgdmlzaXRlZFZlcnRleCA9IHZlcnRleDsgIC8vL1xuXG4gICAgdGVybWluYXRlID0gY2FsbGJhY2sodmlzaXRlZFZlcnRleCwgZ2V0UHJlZGVjZXNzb3JWZXJ0aWNlcyk7XG5cbiAgICBpZiAodGVybWluYXRlICE9PSB0cnVlKSB7XG4gICAgICB2aXNpdGVkVmVydGV4LnNvbWVJbW1lZGlhdGVTdWNjZXNzb3JWZXJ0ZXgoZnVuY3Rpb24oaW1tZWRpYXRlU3VjY2Vzc29yVmVydGV4KSB7XG4gICAgICAgIHRlcm1pbmF0ZSA9IHJldHJpZXZlRm9yd2FyZHNWaXNpdGVkVmVydGljZXMoaW1tZWRpYXRlU3VjY2Vzc29yVmVydGV4LCBjYWxsYmFjaywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgbGV0IHByZWRlY2Vzc29yVmVydGljZXMgPSBnZXRQcmVkZWNlc3NvclZlcnRpY2VzKCk7XG5cbiAgICAgICAgICBjb25zdCBpbW1lZGlhdGVQcmVkZWNlc3NvclZlcnRleCA9IHZlcnRleCwgIC8vL1xuICAgICAgICAgICAgICAgIHByZWRlY2Vzc29yVmVydGV4ID0gaW1tZWRpYXRlUHJlZGVjZXNzb3JWZXJ0ZXg7IC8vL1xuXG4gICAgICAgICAgcHJlZGVjZXNzb3JWZXJ0aWNlcyA9IHByZWRlY2Vzc29yVmVydGljZXMuY29uY2F0KHByZWRlY2Vzc29yVmVydGV4KTtcblxuICAgICAgICAgIHJldHVybiBwcmVkZWNlc3NvclZlcnRpY2VzO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gdGVybWluYXRlO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRlcm1pbmF0ZTtcbn1cbiJdfQ==