"use strict";

var _necessary = require("necessary");

var _vertex = require("./utilities/vertex");

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var first = _necessary.arrayUtilities.first;

var Cycle = /*#__PURE__*/function () {
  function Cycle(vertexNames) {
    _classCallCheck(this, Cycle);

    this.vertexNames = vertexNames;
  }

  _createClass(Cycle, [{
    key: "getVertexNames",
    value: function getVertexNames() {
      return this.vertexNames;
    }
  }], [{
    key: "fromVertexNamePartialCycleAndSuccessorVertices",
    value: function fromVertexNamePartialCycleAndSuccessorVertices(vertexName, partialCycle, successorVertices) {
      successorVertices = successorVertices.slice(); ///

      var successorVerticesLength = successorVertices.length;

      if (successorVerticesLength > 0) {
        var firstSuccessorVertex = first(successorVertices),
            firstSuccessorVertexName = firstSuccessorVertex.getName(),
            _cyclicEdgeTargetVertexName = partialCycle.getTargetVertexName();

        if (firstSuccessorVertexName === _cyclicEdgeTargetVertexName) {
          successorVertices.shift();
        }
      }

      var cyclicEdgeSourceVertexName = partialCycle.getCyclicEdgeSourceVertexName(),
          cyclicEdgeTargetVertexName = partialCycle.getCyclicEdgeTargetVertexName(),
          predecessorVertexNames = partialCycle.getPredecessorVertexNames(),
          successorVertexNames = (0, _vertex.vertexNamesFromVertices)(successorVertices),
          vertexNames = vertexName === cyclicEdgeTargetVertexName ? [].concat(cyclicEdgeTargetVertexName).concat(predecessorVertexNames).concat(cyclicEdgeSourceVertexName) : [].concat(predecessorVertexNames).concat(cyclicEdgeSourceVertexName).concat(cyclicEdgeTargetVertexName).concat(successorVertexNames),
          cycle = new Cycle(vertexNames);
      return cycle;
    }
  }]);

  return Cycle;
}();

module.exports = Cycle;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImN5Y2xlLmpzIl0sIm5hbWVzIjpbImZpcnN0IiwiYXJyYXlVdGlsaXRpZXMiLCJDeWNsZSIsInZlcnRleE5hbWVzIiwidmVydGV4TmFtZSIsInBhcnRpYWxDeWNsZSIsInN1Y2Nlc3NvclZlcnRpY2VzIiwic2xpY2UiLCJzdWNjZXNzb3JWZXJ0aWNlc0xlbmd0aCIsImxlbmd0aCIsImZpcnN0U3VjY2Vzc29yVmVydGV4IiwiZmlyc3RTdWNjZXNzb3JWZXJ0ZXhOYW1lIiwiZ2V0TmFtZSIsImN5Y2xpY0VkZ2VUYXJnZXRWZXJ0ZXhOYW1lIiwiZ2V0VGFyZ2V0VmVydGV4TmFtZSIsInNoaWZ0IiwiY3ljbGljRWRnZVNvdXJjZVZlcnRleE5hbWUiLCJnZXRDeWNsaWNFZGdlU291cmNlVmVydGV4TmFtZSIsImdldEN5Y2xpY0VkZ2VUYXJnZXRWZXJ0ZXhOYW1lIiwicHJlZGVjZXNzb3JWZXJ0ZXhOYW1lcyIsImdldFByZWRlY2Vzc29yVmVydGV4TmFtZXMiLCJzdWNjZXNzb3JWZXJ0ZXhOYW1lcyIsImNvbmNhdCIsImN5Y2xlIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7O0FBRUE7Ozs7Ozs7O0lBRVFBLEssR0FBVUMseUIsQ0FBVkQsSzs7SUFFRkUsSztBQUNKLGlCQUFZQyxXQUFaLEVBQXlCO0FBQUE7O0FBQ3ZCLFNBQUtBLFdBQUwsR0FBbUJBLFdBQW5CO0FBQ0Q7Ozs7cUNBRWdCO0FBQ2YsYUFBTyxLQUFLQSxXQUFaO0FBQ0Q7OzttRUFFcURDLFUsRUFBWUMsWSxFQUFjQyxpQixFQUFtQjtBQUNqR0EsTUFBQUEsaUJBQWlCLEdBQUdBLGlCQUFpQixDQUFDQyxLQUFsQixFQUFwQixDQURpRyxDQUNqRDs7QUFFaEQsVUFBTUMsdUJBQXVCLEdBQUdGLGlCQUFpQixDQUFDRyxNQUFsRDs7QUFFQSxVQUFJRCx1QkFBdUIsR0FBRyxDQUE5QixFQUFpQztBQUMvQixZQUFNRSxvQkFBb0IsR0FBR1YsS0FBSyxDQUFDTSxpQkFBRCxDQUFsQztBQUFBLFlBQ01LLHdCQUF3QixHQUFHRCxvQkFBb0IsQ0FBQ0UsT0FBckIsRUFEakM7QUFBQSxZQUVNQywyQkFBMEIsR0FBR1IsWUFBWSxDQUFDUyxtQkFBYixFQUZuQzs7QUFJQSxZQUFJSCx3QkFBd0IsS0FBS0UsMkJBQWpDLEVBQTZEO0FBQzNEUCxVQUFBQSxpQkFBaUIsQ0FBQ1MsS0FBbEI7QUFDRDtBQUNGOztBQUVELFVBQU1DLDBCQUEwQixHQUFHWCxZQUFZLENBQUNZLDZCQUFiLEVBQW5DO0FBQUEsVUFDTUosMEJBQTBCLEdBQUdSLFlBQVksQ0FBQ2EsNkJBQWIsRUFEbkM7QUFBQSxVQUVNQyxzQkFBc0IsR0FBR2QsWUFBWSxDQUFDZSx5QkFBYixFQUYvQjtBQUFBLFVBR01DLG9CQUFvQixHQUFHLHFDQUF3QmYsaUJBQXhCLENBSDdCO0FBQUEsVUFJTUgsV0FBVyxHQUFJQyxVQUFVLEtBQUtTLDBCQUFoQixHQUNFLEdBQUdTLE1BQUgsQ0FBVVQsMEJBQVYsRUFBc0NTLE1BQXRDLENBQTZDSCxzQkFBN0MsRUFBcUVHLE1BQXJFLENBQTRFTiwwQkFBNUUsQ0FERixHQUVJLEdBQUdNLE1BQUgsQ0FBVUgsc0JBQVYsRUFBa0NHLE1BQWxDLENBQXlDTiwwQkFBekMsRUFBcUVNLE1BQXJFLENBQTRFVCwwQkFBNUUsRUFBd0dTLE1BQXhHLENBQStHRCxvQkFBL0csQ0FOeEI7QUFBQSxVQU9NRSxLQUFLLEdBQUcsSUFBSXJCLEtBQUosQ0FBVUMsV0FBVixDQVBkO0FBU0EsYUFBT29CLEtBQVA7QUFDRDs7Ozs7O0FBR0hDLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQnZCLEtBQWpCIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbmltcG9ydCB7IGFycmF5VXRpbGl0aWVzIH0gZnJvbSBcIm5lY2Vzc2FyeVwiO1xuXG5pbXBvcnQgeyB2ZXJ0ZXhOYW1lc0Zyb21WZXJ0aWNlcyB9IGZyb20gXCIuL3V0aWxpdGllcy92ZXJ0ZXhcIjtcblxuY29uc3QgeyBmaXJzdCB9ID0gYXJyYXlVdGlsaXRpZXM7XG5cbmNsYXNzIEN5Y2xlIHtcbiAgY29uc3RydWN0b3IodmVydGV4TmFtZXMpIHtcbiAgICB0aGlzLnZlcnRleE5hbWVzID0gdmVydGV4TmFtZXM7XG4gIH1cblxuICBnZXRWZXJ0ZXhOYW1lcygpIHtcbiAgICByZXR1cm4gdGhpcy52ZXJ0ZXhOYW1lcztcbiAgfVxuXG4gIHN0YXRpYyBmcm9tVmVydGV4TmFtZVBhcnRpYWxDeWNsZUFuZFN1Y2Nlc3NvclZlcnRpY2VzKHZlcnRleE5hbWUsIHBhcnRpYWxDeWNsZSwgc3VjY2Vzc29yVmVydGljZXMpIHtcbiAgICBzdWNjZXNzb3JWZXJ0aWNlcyA9IHN1Y2Nlc3NvclZlcnRpY2VzLnNsaWNlKCk7ICAvLy9cbiAgICBcbiAgICBjb25zdCBzdWNjZXNzb3JWZXJ0aWNlc0xlbmd0aCA9IHN1Y2Nlc3NvclZlcnRpY2VzLmxlbmd0aDtcbiAgICBcbiAgICBpZiAoc3VjY2Vzc29yVmVydGljZXNMZW5ndGggPiAwKSB7XG4gICAgICBjb25zdCBmaXJzdFN1Y2Nlc3NvclZlcnRleCA9IGZpcnN0KHN1Y2Nlc3NvclZlcnRpY2VzKSxcbiAgICAgICAgICAgIGZpcnN0U3VjY2Vzc29yVmVydGV4TmFtZSA9IGZpcnN0U3VjY2Vzc29yVmVydGV4LmdldE5hbWUoKSxcbiAgICAgICAgICAgIGN5Y2xpY0VkZ2VUYXJnZXRWZXJ0ZXhOYW1lID0gcGFydGlhbEN5Y2xlLmdldFRhcmdldFZlcnRleE5hbWUoKTtcbiAgICAgIFxuICAgICAgaWYgKGZpcnN0U3VjY2Vzc29yVmVydGV4TmFtZSA9PT0gY3ljbGljRWRnZVRhcmdldFZlcnRleE5hbWUpIHtcbiAgICAgICAgc3VjY2Vzc29yVmVydGljZXMuc2hpZnQoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBjeWNsaWNFZGdlU291cmNlVmVydGV4TmFtZSA9IHBhcnRpYWxDeWNsZS5nZXRDeWNsaWNFZGdlU291cmNlVmVydGV4TmFtZSgpLFxuICAgICAgICAgIGN5Y2xpY0VkZ2VUYXJnZXRWZXJ0ZXhOYW1lID0gcGFydGlhbEN5Y2xlLmdldEN5Y2xpY0VkZ2VUYXJnZXRWZXJ0ZXhOYW1lKCksXG4gICAgICAgICAgcHJlZGVjZXNzb3JWZXJ0ZXhOYW1lcyA9IHBhcnRpYWxDeWNsZS5nZXRQcmVkZWNlc3NvclZlcnRleE5hbWVzKCksXG4gICAgICAgICAgc3VjY2Vzc29yVmVydGV4TmFtZXMgPSB2ZXJ0ZXhOYW1lc0Zyb21WZXJ0aWNlcyhzdWNjZXNzb3JWZXJ0aWNlcyksXG4gICAgICAgICAgdmVydGV4TmFtZXMgPSAodmVydGV4TmFtZSA9PT0gY3ljbGljRWRnZVRhcmdldFZlcnRleE5hbWUpID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgW10uY29uY2F0KGN5Y2xpY0VkZ2VUYXJnZXRWZXJ0ZXhOYW1lKS5jb25jYXQocHJlZGVjZXNzb3JWZXJ0ZXhOYW1lcykuY29uY2F0KGN5Y2xpY0VkZ2VTb3VyY2VWZXJ0ZXhOYW1lKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgW10uY29uY2F0KHByZWRlY2Vzc29yVmVydGV4TmFtZXMpLmNvbmNhdChjeWNsaWNFZGdlU291cmNlVmVydGV4TmFtZSkuY29uY2F0KGN5Y2xpY0VkZ2VUYXJnZXRWZXJ0ZXhOYW1lKS5jb25jYXQoc3VjY2Vzc29yVmVydGV4TmFtZXMpLFxuICAgICAgICAgIGN5Y2xlID0gbmV3IEN5Y2xlKHZlcnRleE5hbWVzKTtcbiAgICBcbiAgICByZXR1cm4gY3ljbGU7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBDeWNsZTtcbiJdfQ==